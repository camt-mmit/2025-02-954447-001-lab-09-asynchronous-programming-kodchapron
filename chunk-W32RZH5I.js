import{a as ne,b as oe,c as ie,d as re}from"./chunk-P2ITOVSM.js";import{$ as q,A as s,D as u,E as b,G as y,H as v,J as j,K as A,L,M as _,N as a,O as r,P as p,Q as m,R as f,T as E,U as w,V as g,W as o,X as P,Y as K,Z as B,_ as W,aa as J,ca as Y,da as G,ea as H,ga as F,ha as Q,i as T,ia as U,ja as X,k as C,la as Z,m as x,n as M,na as ee,oa as te,u as $,x as z,y as d}from"./chunk-4QQZDJWC.js";function R(){return""}function ae(){return{studentId:"",firstname:"",lastname:"",age:0,autobiography:"",friends:[R()]}}function le(i,n){if(i&1){let e=E();a(0,"div",10)(1,"button",11),w("click",function(){let l=x(e).$index,c=g();return M(c.moveFriend(l,-1))}),a(2,"i",9),o(3,"arrow_upward_alt"),r()(),a(4,"button",11),w("click",function(){let l=x(e).$index,c=g();return M(c.moveFriend(l,1))}),a(5,"i",9),o(6,"arrow_downward_alt"),r()(),a(7,"span",12)(8,"label")(9,"b"),o(10," Friend "),a(11,"span",13),o(12),r()(),p(13,"input",3),u(),r()(),a(14,"button",14),w("click",function(){let l=x(e).$index,c=g();return M(c.removeFriend(l))}),a(15,"i",9),o(16,"delete_forever"),r()()()}if(i&2){let e=n.$implicit,t=n.$index,l=n.$index,c=n.$count,de=n.$count;d(),_("disabled",l===0),d(3),_("disabled",l===de-1),d(8),P(t+1),d(),b(e,"formField"),d(),_("disabled",c===1)}}var S=class i{data=U.required();friendsCountKey=oe();form=ie(this.data,n=>{ne(n.friends,this.friendsCountKey,({value:e})=>e().length)});addFriend(){this.form.friends().value.update(n=>[...n,R()])}removeFriend(n){this.form.friends().value.update(e=>e.filter((t,l)=>l!==n))}moveFriend(n,e){this.form.friends().value.update(t=>t.map((l,c)=>c===n?t[n+e]:c===n+e?t[n]:l))}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-profile-form"]],inputs:{data:[1,"data"]},outputs:{data:"dataChange"},decls:33,vars:15,consts:[[1,"_main-form",3,"disabled"],[1,"_info-form"],["type","text","inputmode","numeric",3,"formField"],["type","text",3,"formField"],["type","number",3,"formField"],["rows","5",3,"formField"],[1,"_friends-form",3,"disabled"],[1,"app-cl-number"],["type","button",1,"app-cmp-button",3,"click"],[1,"material-symbols-outlined"],[1,"_friend-container"],["type","button",1,"app-cmp-button",3,"click","disabled"],[1,"_friend-input"],[1,"_friend-title-no","app-cl-number"],["type","button",1,"app-cmp-button","app-cl-warn",3,"click","disabled"]],template:function(e,t){e&1&&(a(0,"fieldset",0)(1,"div",1)(2,"label")(3,"b"),o(4,"Student ID"),r(),p(5,"input",2),u(),r(),a(6,"label")(7,"b"),o(8,"Firstname"),r(),p(9,"input",3),u(),r(),a(10,"label")(11,"b"),o(12,"Lastname"),r(),p(13,"input",3),u(),r(),a(14,"label")(15,"b"),o(16,"Age"),r(),p(17,"input",4),u(),r(),a(18,"label")(19,"b"),o(20,"Autobiography"),r(),p(21,"textarea",5),u(),r()(),a(22,"fieldset",6)(23,"legend"),o(24," Friends "),a(25,"span",7),o(26),Y(27,"number"),r(),a(28,"button",8),w("click",function(){return t.addFriend()}),a(29,"i",9),o(30,"add"),r()()(),A(31,le,17,6,"div",10,j),r()()),e&2&&(_("disabled",t.form().disabled()),d(5),b(t.form.studentId,"formField"),d(4),b(t.form.firstname,"formField"),d(4),b(t.form.lastname,"formField"),d(4),b(t.form.age,"formField"),d(4),b(t.form.autobiography,"formField"),d(),_("disabled",t.form.friends().disabled()),d(4),K("(",G(27,13,t.form.friends().metadata(t.friendsCountKey)()),")"),d(5),L(t.form.friends))},dependencies:[re,X],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}[_nghost-%COMP%]{max-width:600px;margin:0 auto}@layer{._main-form[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._main-form[_ngcontent-%COMP%]{background-color:#fff0f5;padding:25px;border-radius:20px;border:2px solid #ffb7d5}@layer{._info-form[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._info-form[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:15ch;margin-right:1ch}._info-form[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], ._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:2px solid #ffb7d5!important;border-radius:12px!important;background-color:#fff}._info-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, ._info-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#9b59b6!important;outline:none}._friends-form[_ngcontent-%COMP%]{margin-top:20px;border:3px dashed #9b59b6;border-radius:15px;padding:15px;background-color:#fff}._friends-form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;color:#9b59b6;font-weight:700;font-family:Comic Sans MS,cursive}._friends-form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .app-cmp-button[_ngcontent-%COMP%]{background-color:#ffb7d5!important;color:#fff!important;width:32px;height:32px;border-radius:50%!important;border:2px solid white!important;display:inline-flex;align-items:center;justify-content:center;padding:0!important;transition:all .3s cubic-bezier(.175,.885,.32,1.275)!important}._friends-form[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]   .app-cmp-button[_ngcontent-%COMP%]:hover{transform:scale(1.2) rotate(90deg);background-color:#9b59b6!important}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]{background:#fff0f5;border-radius:12px;margin-bottom:10px;padding:10px;display:flex;align-items:center;gap:10px}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cmp-button[_ngcontent-%COMP%]:not(.app-cl-warn){background-color:#2c3e50!important;color:#ffb7d5!important;border:none!important;border-radius:8px!important;width:34px;height:34px;padding:0!important;display:inline-flex;align-items:center;justify-content:center}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cmp-button[_ngcontent-%COMP%]:not(.app-cl-warn):disabled{opacity:.3}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cmp-button[_ngcontent-%COMP%]:not(.app-cl-warn):hover:not(:disabled){filter:brightness(1.2);transform:translateY(-2px)}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%]{flex-grow:1}@layer{._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%]{--_row-gap: var(--app-row-gap)}}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;row-gap:var(--_row-gap)}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%]{width:10ch;margin-right:1ch}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > b[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{box-sizing:border-box;flex:1 0 auto}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   ._friend-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #ffb7d5!important}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cl-warn[_ngcontent-%COMP%]{background-color:#2c3e50!important;color:#ffb7d5!important;border:none!important;border-radius:50%!important;width:34px;height:34px;display:inline-flex;align-items:center;justify-content:center;padding:0!important}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cl-warn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px!important}._friends-form[_ngcontent-%COMP%]   ._friend-container[_ngcontent-%COMP%]   .app-cl-warn[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1);background-color:#ff4d4d!important;color:#fff!important}"],changeDetection:0})};var ce="profile-data",O=class i{keyName=`${C(z)}-${ce}`;async get(){return JSON.parse(localStorage.getItem(this.keyName)??"null")}async set(n){return localStorage.setItem(this.keyName,JSON.stringify(n))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=T({token:i,factory:i.\u0275fac,providedIn:"root"})};function pe(i,n){if(i&1){let e=E();a(0,"app-profile-form",1),J("dataChange",function(l){x(e);let c=g();return q(c.dataResource.value,l)||(c.dataResource.value=l),M(l)}),r()}if(i&2){let e=g();W("data",e.dataResource.value)}}var D=class i{dataStorage=C(O);dataResource=F({loader:async()=>await this.dataStorage.get()??ae()});constructor(){$(()=>{this.dataResource.hasValue()&&this.dataStorage.set(this.dataResource.value())})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-profile-form-page"]],decls:1,vars:1,consts:[[3,"data"],[3,"dataChange","data"]],template:function(e,t){e&1&&y(0,pe,1,1,"app-profile-form",0),e&2&&v(t.dataResource.hasValue()?0:-1)},dependencies:[S],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}"],changeDetection:0})};var I=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-profile-root"]],decls:13,vars:0,consts:[[1,"app-cmp-nav"],["routerLinkActive","app-st-active"],["routerLink","./view"],[1,"material-symbols-outlined"],["routerLink","./form"]],template:function(e,t){e&1&&(a(0,"nav")(1,"ul",0)(2,"li",1)(3,"a",2)(4,"i",3),o(5,"view_list"),r(),o(6," View "),r()(),a(7,"li",1)(8,"a",4)(9,"i",3),o(10,"edit_document"),r(),o(11," Form "),r()()()(),p(12,"router-outlet"))},dependencies:[ee,te,Z],styles:["@layer{.app-cmp-nav[_ngcontent-%COMP%]{--_color: #9b59b6;--_border-color: #ffb7d5;--_filling-color: #ffb7d5;margin-top:20px;margin-bottom:20px}}.app-cmp-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #ffb7d5!important;border-radius:12px!important;transition:all .3s cubic-bezier(.175,.885,.32,1.275)}.app-cmp-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(.app-st-active):hover{background-color:#fff0f5!important;transform:translateY(-3px)}.app-cmp-nav[_ngcontent-%COMP%] > li.app-st-active[_ngcontent-%COMP%]{background-color:#9b59b6!important;border-color:#2c3e50!important}.app-cmp-nav[_ngcontent-%COMP%] > li.app-st-active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff!important;font-weight:800}.app-cmp-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#9b59b6;padding:.5rem 1.5rem!important;display:flex;align-items:center;gap:8px}.app-cmp-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}"],changeDetection:0})};var V=class i{data=Q.required();friends=H(()=>this.data().friends.join(", "));static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-profile-view"]],inputs:{data:[1,"data"]},decls:23,vars:6,consts:[[1,"_main-data"],[1,"app-cl-code"],[1,"app-cl-number"],[1,"_autobiography"]],template:function(e,t){e&1&&(m(0,"dl",0)(1,"dt"),o(2,"Student ID"),f(),m(3,"dd")(4,"span",1),o(5),f()(),m(6,"dt"),o(7,"Fullname"),f(),m(8,"dd"),o(9),f(),m(10,"dt"),o(11,"Age"),f(),m(12,"dd")(13,"span",2),o(14),f()(),m(15,"dt"),o(16,"Autobiography"),f(),m(17,"dd",3),o(18),f(),m(19,"dt"),o(20,"Friends"),f(),m(21,"dd"),o(22),f()()),e&2&&(d(5),P(t.data().studentId),d(4),B("",t.data().firstname," ",t.data().lastname),d(5),P(t.data().age),d(4),P(t.data().autobiography),d(4),P(t.friends()))},styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}[_nghost-%COMP%]{max-width:600px;margin:0 auto}@layer{._main-data[_ngcontent-%COMP%]{--_column-gap: var(--app-column-gap);--_row-gap: var(--app-row-gap)}}._main-data[_ngcontent-%COMP%]:is(dl){display:grid;grid-template-columns:auto 1fr;column-gap:var(--_column-gap);row-gap:var(--_row-gap)}._main-data[_ngcontent-%COMP%]:is(dl) > dt[_ngcontent-%COMP%]{font-weight:700}._main-data[_ngcontent-%COMP%]:is(dl) > dd[_ngcontent-%COMP%]{margin-left:0;text-align:justify}._main-data[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:20px;border:2px solid #ffb7d5;box-shadow:10px 10px #9b59b6}dt[_ngcontent-%COMP%]{color:#9b59b6!important;font-weight:700;border-left:5px solid #ffb7d5;padding-left:12px;margin-top:20px}dd[_ngcontent-%COMP%]{border-bottom:1px dashed #ffb7d5;padding:5px 0}"],changeDetection:0})};function me(i,n){i&1&&p(0,"app-profile-view",0),i&2&&_("data",n)}function fe(i,n){i&1&&(a(0,"p",1)(1,"i",2),o(2,"warning"),r(),o(3," Not Found!!! "),r())}function se(i,n){if(i&1&&y(0,me,1,1,"app-profile-view",0)(1,fe,4,0,"p",1),i&2){let e,t=g();v((e=t.dataResource.value())?0:1,e)}}var N=class i{dataStorage=C(O);dataResource=F({loader:async()=>await this.dataStorage.get()});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=s({type:i,selectors:[["app-profile-view-page"]],decls:1,vars:1,consts:[[3,"data"],[1,"_message"],[1,"material-symbols-outlined"]],template:function(e,t){e&1&&y(0,se,2,1),e&2&&v(t.dataResource.hasValue()?0:-1)},dependencies:[V],styles:["@layer{[_nghost-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}@layer{._message[_ngcontent-%COMP%]{box-sizing:border-box;display:block;margin:0;padding:0;border:none}}._message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;column-gap:var(--app-column-gap);font-size:xx-large;font-weight:600;margin-top:64px}._message[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:xx-large}"],changeDetection:0})};var Ye=[{path:"",component:I,children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:N},{path:"form",component:D}]}];export{Ye as default};
